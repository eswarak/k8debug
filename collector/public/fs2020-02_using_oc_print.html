<br><p>Use the <strong>oc</strong> CLI to login and authenticate to the environment.</p><br><pre><code>oc login https://&lt;IP Address&gt;:8443  -u &lt;team&gt; -p &lt;team&gt; <br><br>    &lt;IP Address&gt;  - replace with instructor provided information  <br>    &lt;team&gt;        - replace with team name</code></pre><br><p>The instructor will provide the IP address needed to access the OCP cluster that will be used in this lab.  </p><br><hr><br><p>Follow the detailed step-by-step instructions if additional assistance is needed.</p><hr><br><p>Using the <strong>oc</strong> CLI login to the environment.</p><br><table class="table-bordered" cellspacing="10"><thead style="background-color: #eee;"><tr style="background-color: #f8f8f8;"><th>Item</th><th>Action</th></tr></thead><tbody><tr style="background-color: #f8f8f8;"><td>&#60;IP Address&#62;</td><td>Replace with instructor provided information</td></tr><tr style="background-color: #f8f8f8;"><td>&#60;team&#62;</td><td>Replace with team name</td></tr></tbody></table><p><br><br></p><p><strong>oc login https://&#60;IP Address&#62;:8443  -u &#60;team&#62; -p &#60;team&#62;</strong></p><p><br><br></p><p>Once the command has completed a message will be displayed.  The message will contain a count of projects available to the user.  <em>XXX_</em> will provide the number of projects available to the user. </p><p><strong>Example output:</strong> </p><br><pre><code>Login successful.<br><br>You have access to XXX projects, the list has been suppressed. You can list all projects with &#39;oc projects&#39;<br><br>Using project &lt;team&gt;.</code></pre><blockquote><div><button class="btn btn-success" onclick="markComplete('CS-102 :- MarkComplete 1002 ConfirmButton oc Login')">Press to mark completed</button></div></blockquote><br><p>What are the seven categories of commands for the <strong>oc</strong> CLI?  Use the <strong>oc --help</strong> feature to obtain this information.  </p><hr><br><p>Use the --help feature of the oc command.</p><hr><br><p>Enter the following command to view the categories of commands.  </p><br><pre><code><br>Command:<br><br>    oc --help<br><br><br>Example output:<br><br>    OpenShift Client<br><br>    This client helps you develop, build, deploy, and run your applications on any OpenShift or Kubernetes compatible<br>    platform. It also includes the administrative commands for managing a cluster under the &#39;adm&#39; subcommand.<br><br>    Usage:<br>      oc [flags]<br><br>    Basic Commands:<br>      types           An introduction to concepts and types<br>      login           Log in to a server<br>      new-project     Request a new project<br>      new-app         Create a new application<br>      status          Show an overview of the current project<br>      project         Switch to another project<br>      projects        Display existing projects<br>      explain         Documentation of resources<br>      cluster         Start and stop OpenShift cluster<br><br>    Build and Deploy Commands:<br>      rollout         Manage a Kubernetes deployment or OpenShift deployment config<br>      rollback        Revert part of an application back to a previous deployment<br>      new-build       Create a new build configuration<br>      start-build     Start a new build<br>      cancel-build    Cancel running, pending, or new builds<br>      import-image    Imports images from a Docker registry<br>      tag             Tag existing images into image streams<br><br>    Application Management Commands:<br>      get             Display one or many resources<br>      describe        Show details of a specific resource or group of resources<br>      edit            Edit a resource on the server<br>      set             Commands that help set specific features on objects<br>      label           Update the labels on a resource<br>      annotate        Update the annotations on a resource<br>      expose          Expose a replicated application as a service or route<br>      delete          Delete one or more resources<br>      scale           Change the number of pods in a deployment<br>      autoscale       Autoscale a deployment config, deployment, replication controller, or replica set<br>      secrets         Manage secrets<br>      serviceaccounts Manage service accounts in your project<br><br>    Troubleshooting and Debugging Commands:<br>      logs            Print the logs for a resource<br>      rsh             Start a shell session in a pod<br>      rsync           Copy files between local filesystem and a pod<br>      port-forward    Forward one or more local ports to a pod<br>      debug           Launch a new instance of a pod for debugging<br>      exec            Execute a command in a container<br>      proxy           Run a proxy to the Kubernetes API server<br>      attach          Attach to a running container<br>      run             Run a particular image on the cluster<br>      cp              Copy files and directories to and from containers.<br>      wait            Experimental: Wait for one condition on one or many resources<br><br>    Advanced Commands:<br>      adm             Tools for managing a cluster<br>      create          Create a resource from a file or from stdin.<br>      replace         Replace a resource by filename or stdin<br>      apply           Apply a configuration to a resource by filename or stdin<br>      patch           Update field(s) of a resource using strategic merge patch<br>      process         Process a template into list of resources<br>      export          Export resources so they can be used elsewhere<br>      extract         Extract secrets or config maps to disk<br>      idle            Idle scalable resources<br>      observe         Observe changes to resources and react to them (experimental)<br>      policy          Manage authorization policy<br>      auth            Inspect authorization<br>      convert         Convert config files between different API versions<br>      import          Commands that import applications<br>      image           Useful commands for managing images<br>      registry        Commands for working with the registry<br>      api-versions    Print the supported API versions on the server, in the form of &quot;group/version&quot;<br>      api-resources   Print the supported API resources on the server<br><br>    Settings Commands:<br>      logout          End the current server session<br>      config          Change configuration files for the client<br>      whoami          Return information about the current session<br>      completion      Output shell completion code for the specified shell (bash or zsh)<br><br>    Other Commands:<br>      ex              Experimental commands under active development<br>      help            Help about any command<br>      plugin          Runs a command-line plugin<br>      version         Display client and server versions<br><br>    Use &quot;oc &lt;command&gt; --help&quot; for more information about a given command.<br>    Use &quot;oc options&quot; for a list of global command-line options (applies to all commands).<br><br></code></pre><br><blockquote><br><div><button class="btn btn-success" onclick="markComplete('CS-102 :- MarkComplete 1003 ConfirmButton oc command categories')">Press to mark completed</button></div></blockquote><br><p>What are the node names in the cluster?  Use <strong>oc get</strong> to obtain this information.  Additionally, use the -o wide parameter.  The -o is a small letter O.    </p><hr><br><p>Get nodes and include the &quot;-o wide&quot; parameter.</p><hr><br><p>Enter the following command to view the nodes in the cluster. </p><br><pre><code><br>Command:<br><br>    oc get nodes   &lt;and&gt;<br>    oc get nodes -o wide <br><br><br>Example output:<br><br>    From: oc get nodes<br>    NAME                          STATUS    ROLES          AGE       VERSION<br>    sydney.52.117.155.20.nip.io   Ready     compute        3d        v1.11.0+d4cacc0<br>    sydney.52.117.155.26.nip.io   Ready     infra,master   3d        v1.11.0+d4cacc0<br>    sydney.52.117.155.27.nip.io   Ready     compute        3d        v1.11.0+d4cacc0<br>    sydney.52.117.155.29.nip.io   Ready     compute        3d        v1.11.0+d4cacc0<br><br>    From: oc get nodes -o wide<br>    NAME                          STATUS    ROLES          AGE       VERSION           INTERNAL-IP     EXTERNAL-IP   OS-IMAGE                KERNEL-VERSION               CONTAINER-RUNTIME<br>    sydney.52.117.155.20.nip.io   Ready     compute        3d        v1.11.0+d4cacc0   52.117.155.20   &lt;none&gt;        CentOS Linux 7 (Core)   3.10.0-957.27.2.el7.x86_64   docker://1.13.1<br>    sydney.52.117.155.26.nip.io   Ready     infra,master   3d        v1.11.0+d4cacc0   52.117.155.26   &lt;none&gt;        CentOS Linux 7 (Core)   3.10.0-957.27.2.el7.x86_64   docker://1.13.1<br>    sydney.52.117.155.27.nip.io   Ready     compute        3d        v1.11.0+d4cacc0   52.117.155.27   &lt;none&gt;        CentOS Linux 7 (Core)   3.10.0-957.27.2.el7.x86_64   docker://1.13.1<br>    sydney.52.117.155.29.nip.io   Ready     compute        3d        v1.11.0+d4cacc0   52.117.155.29   &lt;none&gt;        CentOS Linux 7 (Core)   3.10.0-957.27.2.el7.x86_64   docker://1.13.1</code></pre><br><blockquote><br><div><button class="btn btn-success" onclick="markComplete('CS-102 :- MarkComplete 1004 ConfirmButton - oc get nodes')">Press to mark completed</button></div></blockquote><br><p>What are the pods in the namespace default?  Use <strong>oc get</strong> to obtain this information.  Be sure to include the <strong>-n default</strong> options to select the default namespace.</p><hr><br><p>Be sure to include the <strong>-n default</strong> options to select the default namespace.</p><hr><br><p>Get a list of pods in the &#39;default&#39; namespace.</p><br><pre><code><br>Command:<br><br>    oc get pods -n default   <br><br><br>Example output: <br><br>    NAME                         READY     STATUS    RESTARTS   AGE<br>    dashboard-7cc4b6645c-bczzf   1/1       Running   0          17h<br>    docker-registry-1-gxkxh      1/1       Running   0          17h<br>    registry-console-1-bmw27     1/1       Running   0          17h<br>    router-1-xx7nq               1/1       Running   0          17h<br>    yarns-5fcbcfdd9d-bfl5r       1/1       Running   0          17h<br><br><br>Command:<br><br>    oc get pods -n default -o wide<br><br><br>Example output: <br><br>NAME                         READY     STATUS    RESTARTS   AGE       IP              NODE                        NOMINATED NODE<br>dashboard-7cc4b6645c-bczzf   1/1       Running   0          17h       10.129.2.2      cp4i.149.81.85.109.nip.io   &lt;none&gt;<br>docker-registry-1-gxkxh      1/1       Running   0          17h       10.128.0.4      cp4i.149.81.85.120.nip.io   &lt;none&gt;<br>registry-console-1-bmw27     1/1       Running   0          17h       10.128.0.6      cp4i.149.81.85.120.nip.io   &lt;none&gt;<br>router-1-xx7nq               1/1       Running   0          17h       149.81.85.120   cp4i.149.81.85.120.nip.io   &lt;none&gt;<br>yarns-5fcbcfdd9d-bfl5r       1/1       Running   0          17h       10.128.4.3      cp4i.149.81.85.111.nip.io   &lt;none&gt;</code></pre><br><blockquote><br><div><button class="btn btn-success" onclick="markComplete('CS-102 :- MarkComplete 1005 ConfirmButton - oc get pods')">Press to mark completed</button></div></blockquote><br><p>Get events from all namespaces.  </p><hr><br><p>All namespaces can be viewed by using the --all-namespaces parameter.</p><hr><br><p>Get events from all namespaces.</p><br><pre><code><br>Command:<br><br>    oc get events --all-namespaces<br><br><br>Example output:  (your detailed output will be differnt)<br><br>    NAMESPACE   LAST SEEN   FIRST SEEN   COUNT     NAME                                                 KIND                    SUBOBJECT   TYPE      REASON                 SOURCE                               MESSAGE<br>    default     9m          17h          227       nfs-client-provisioner-7dd7cff46c.15ecdf49063eeb3b   ReplicaSet                          Warning   FailedCreate           replicaset-controller                Error creating: pods &quot;nfs-client-provisioner-7dd7cff46c-&quot; is forbidden: error looking up service account default/nfs-client-provisioner: serviceaccount &quot;nfs-client-provisioner&quot; not found<br>    nfsprov     4m          17h          4446      test-claim.15ecdf49111fc828                          PersistentVolumeClaim               Normal    ExternalProvisioning   persistentvolume-controller          waiting for a volume to be created, either by external provisioner &quot;myokd/nfs&quot; or manually created by system administrator<br>    default     3m          18h          216       ansible-service-broker.15ecdf40772c1b61              ClusterServiceBroker                Normal    FetchedCatalog         service-catalog-controller-manager   Successfully fetched catalog entries from broker.<br><br><br>    . . . additional output may be shown . . .<br></code></pre><br><blockquote><br><div><button class="btn btn-success" onclick="markComplete('CS-102 :- MarkComplete 1006 ConfirmButton - oc get events')">Press to mark completed</button></div></blockquote><br><p>Use the <strong>oc describe</strong> feature to obtain detail information for the pod in your team namespace that begins with <team>-student-ui... (<team> is your team name).</p><p>The output from the describe is formatted for human viewing.  The describe command does not support the <strong>-o wide</strong> parameter.</p><hr><br><p>You must get the pod name and then describe the pod.</p><p>Get the pod name using the <strong>oc get pods</strong> command.  </p><p>Using the pod name shown from get pods, now use the <strong>oc describe pod</strong> command to obtain the pod details.</p><hr><br><p>Describe the team ui pod</p><br><pre><code><br>Command:<br><br>    oc get pods<br><br><br>Example output:<br><br>    NAME                                 READY     STATUS    RESTARTS   AGE<br>    team99-student-ui-64c59b7849-lwzp9   1/1       Running   0          17h<br><br><br><br>Command:<br><br>    oc describe pod team99-student-ui-64c59b7849-lwzp9<br><br><br>Example output:<br><br>    Name:               team99-student-ui-64c59b7849-lwzp9<br>    Namespace:          team99<br>    Priority:           0<br>    PriorityClassName:  &lt;none&gt;<br>    Node:               cp4i.149.81.85.108.nip.io/149.81.85.108<br>    Start Time:         Fri, 24 Jan 2020 17:41:38 +0100<br>    Labels:             app=team99-student-ui<br>                        pod-template-hash=2071563405<br>    Annotations:        openshift.io/scc=restricted<br>    Status:             Running<br>    IP:                 10.130.2.10<br>    Controlled By:      ReplicaSet/team99-student-ui-64c59b7849<br>    Containers:<br>      team99-student-ui:<br>        Container ID:   docker://01e7955f60b6d86cfcf2d3c7c294606f0e7f4672dea9b77e55dd1fee55b05e0d<br>        Image:          docker.io/ibmicpcoc/collector:latest<br>        Image ID:       docker-pullable://docker.io/ibmicpcoc/collector@sha256:71ff985f9e682aece6e2f462aba43c40ed12d00053b74e7630544a730ac32d9f<br>        Port:           3000/TCP<br>        Host Port:      0/TCP<br>        State:          Running<br>          Started:      Fri, 24 Jan 2020 17:42:03 +0100<br>        Ready:          True<br>        Restart Count:  0<br>        Requests:<br>          cpu:     100m<br>          memory:  100Mi<br>        Environment:<br>          APP_NAMESPACE:     team99 (v1:metadata.namespace)<br>          APP_NAME:          team99-student-ui-64c59b7849-lwzp9 (v1:metadata.name)<br>          COLLECTOR_CONFIG:  &lt;set to the key &#39;COLLECTOR_CONFIG&#39; of config map &#39;team99-collector-config&#39;&gt;  Optional: false<br>        Mounts:<br>          /var/run/secrets/kubernetes.io/serviceaccount from default-token-rhsbw (ro)<br>    Conditions:<br>      Type              Status<br>      Initialized       True<br>      Ready             True<br>      ContainersReady   True<br>      PodScheduled      True<br>    Volumes:<br>      default-token-rhsbw:<br>        Type:        Secret (a volume populated by a Secret)<br>        SecretName:  default-token-rhsbw<br>        Optional:    false<br>    QoS Class:       Burstable<br>    Node-Selectors:  node-role.kubernetes.io/compute=true<br>    Tolerations:     node.kubernetes.io/memory-pressure:NoSchedule<br>    Events:          &lt;none&gt;<br></code></pre><br><blockquote><br><div><button class="btn btn-success" onclick="markComplete('CS-102 :- MarkComplete 1007 ConfirmButton - oc describe pod')">Press to mark completed</button></div></blockquote><br><p>View the logs for the pod that starts with “webconsole” in the openshift-web-console namespace.  What IP and port are securely serving the console?</p><hr><br><ul><li><p>Get the list of pods in the openshift-web-console namespace to determine the full pod name to view the logs.   </p></li><li><p>Review the options for the &quot;Troubleshooting and Debugging Commands&quot; section from <strong>oc --help</strong>.</p></li><li><p>Be sure to define the namespace.</p></li></ul><hr><br><p>View the logs for the webconsole pod.</p><br><pre><code><br>Command: <br><br>    oc get pods  -n openshift-web-console<br><br><br>Exampel output:<br><br>    NAME                          READY     STATUS    RESTARTS   AGE<br>    webconsole-7fc8759f7b-26v5l   1/1       Running   1          18h<br><br><br><br>Command:<br><br>    oc logs webconsole-7fc8759f7b-26v5l  -n openshift-web-console<br><br><br>Example output:<br><br>    W0913 21:33:08.411930       1 start.go:93] Warning: config.clusterInfo.loggingPublicURL: Invalid value: &quot;&quot;: required to view aggregated container logs in the console, web console start will continue.<br>    I0913 21:33:08.998336       1 start.go:208] OpenShift Web Console Version: v3.11.0+ea42280<br>    I0913 21:33:08.998683       1 serve.go:89] Serving securely on 0.0.0.0:8443.  &lt;&lt;&lt;--- view this line<br></code></pre><br><blockquote><br><div><button class="btn btn-success" onclick="markComplete('CS-102 :- MarkComplete 1008 ConfirmButton - view pod logs')">Press to mark completed</button></div></blockquote><br><p>Switch to the project for your team.  RSH into the pod that starts with <strong>&quot;&#60;team&#62;-student-ui-&quot;</strong>   </p><p>Replace <strong>&#60;team&#62;</strong> with your team name.</p><p>Explore the container and once done &quot;exit&quot; the RSH session.</p><hr><br><ul><li><p>Change to the project. </p></li><li><p>Start a shell session in a pod the pod.</p></li><li><p>View the oc --help section labeled &quot;Troubleshooting and Debugging Commands&quot;</p></li></ul><hr><br><p>RSH into the student UI pod in your team project.</p><br><pre><code><br>Command:<br><br>    oc project team01<br><br>Example output: <br><br>    Now using project &quot;team01&quot; on server &quot;https://52.117.155.26:8443&quot;.<br><br><br><br>Command:    <br><br>    oc get po<br><br>Example output: <br><br>    NAME                                 READY     STATUS    RESTARTS   AGE<br>    team01-student-ui-7f47864588-hz7gn   1/1       Running   0          1d<br><br><br><br>Command: <br><br>    oc rsh team01-student-ui-7f47864588-hz7gn    <br>Example output:<br><br>    /collector      &lt;&lt;&lt;--- This is a command prompt  <br><br><br>Command: <br><br>    exit           &lt;&lt;&lt;--- This command is run at the command prompt opened by RSH<br><br>Example output:<br><br>    Return to a command prompt on the SSH session that the student is using.</code></pre><br><blockquote><br><div><button class="btn btn-success" onclick="markComplete('CS-102 :- MarkComplete 1009 ConfirmButton  - remote shell into pod')">Press to mark completed</button></div></blockquote><br><p>Without using an interactive shell prompt or RSH session, list the files in directory /collector/lib in the pod that starts with <strong>&quot;&#60;team&#62;-student-ui-&quot;</strong>.  </p><p>Replace <strong>&#60;team&#62;</strong> with your team name.</p><p>This will require the use of the <strong>oc exec</strong> command with the following <strong>-it -- ls -la /collector/lib</strong> sub parameters.</p><hr><br><ul><li><p>The command syntax needs the <strong>-it</strong> and <strong>--</strong> followed by the command to list the files. </p></li><li><p><strong>ls -la /collector/lib</strong> will list the files in the directory</p></li><li><p>Example: oc exec &#60;pod name&#62;  -it -- ls -la /collector/lib</p></li></ul><hr><br><p>Execute command in the student UI pod.</p><br><pre><code><br>Command:<br><br>    oc exec team01-student-ui-7f47864588-hz7gn  -it -- ls -la /collector/lib<br><br>    (if not in the &lt;team&gt; project add the -n &lt;team&gt; parameter)<br><br><br>Example output:<br><br>    total 132<br>    drwxrwxrwx    1 appuser  appusers      4096 Sep 13 23:44 .<br>    drwxrwxrwx    1 root     root          4096 Sep 13 23:44 ..<br>    -rwxrwxrwx    1 appuser  appusers     20786 Aug 14 20:38 cllr.js<br>    -rwxrwxrwx    1 appuser  appusers      4671 Aug 14 20:38 config.js<br>    -rwxrwxrwx    1 appuser  appusers      8030 Aug 15 15:25 courses.js<br>    -rwxrwxrwx    1 appuser  appusers     10738 Aug 14 20:38 insight.js<br>    -rwxrwxrwx    1 appuser  appusers     23135 Sep 12 01:38 parseHtmlBuffer.js<br>    -rwxrwxrwx    1 appuser  appusers      4405 Aug 14 20:38 printCourse.js<br>    -rwxrwxrwx    1 appuser  appusers      5499 Aug 17 14:59 student.js<br>    -rwxrwxrwx    1 appuser  appusers      2879 Aug 14 20:38 utl.js<br>    -rwxrwxrwx    1 appuser  appusers     28027 Aug 14 20:38 validateBuffer.js</code></pre><br><blockquote><br><div><button class="btn btn-success" onclick="markComplete('CS-102 :- MarkComplete 1010 ConfirmButton - interact with running pod')">Press to mark completed</button></div></blockquote><br><p>Within your team project run a pod named <strong>&#60;team&#62;-tools</strong> using the &quot;ibmicpcoc/tools&quot; container image, and never restart the pod.  Use the following command to run the pod.</p><p>oc run <strong>&#60;team&#62;-tools</strong> --image=ibmicpcoc/tools --restart=Never</p><p>Replace <strong>&#60;team&#62;</strong> with your team name.</p><p>This running pod is used in the next task.</p><hr><br><ul><li>oc run <strong>&#60;team&#62;</strong>-tools --image=ibmicpcoc/tools --restart=Never</li></ul><p>Replace <strong>&#60;team&#62;</strong> with your team name.</p><hr><br><p>Run a pod from a single command.</p><br><pre><code><br>Command: (example using team01)<br><br>    oc run team01-tools --image=ibmicpcoc/tools --restart=Never<br><br><br>Example output:<br><br>    deploymentconfig.apps.openshift.io/team01-tools created<br></code></pre><br><blockquote><br><div><button class="btn btn-success" onclick="markComplete('CS-102 :- MarkComplete 1011 ConfirmButton - create pod')">Press to mark completed</button></div></blockquote><br><p>Using the pod created in the previous task edit the pod (named <strong>&#60;team&#62;-tools</strong>) adding the following label in the metadata.labels section.</p><p>  work: training</p><p>Save the changes and then describe the pod to validate the label is defined.</p><p><strong>NOTE</strong> You must use proper and correct syntax or the editor will not close. </p><hr><br><p>The default editor &quot;vi&quot; will open when the command is executed.  If you desire to use the “nano” editor add the following parameter before using the oc edit command.</p><p><strong>OC_EDITOR=&quot;nano&quot;</strong> oc edit po &#60;team&#62;-tools</p><hr><br><p>Edit the pod.</p><br><pre><code><br>EDITING:<br><br>Command:<br><br>    oc edit po team01-tools<br><br>    (OR)<br><br>    OC_EDITOR=&quot;nano&quot; oc edit po team01-tools<br><br><br><br>Example output:<br><br><br>    # Please edit the object below. Lines beginning with a &#39;#&#39; will be ignored,<br>    # and an empty file will abort the edit. If an error occurs while saving this file will be<br>    # reopened with the relevant failures.<br>    #<br>    apiVersion: v1<br>    kind: Pod<br>    metadata:<br>      annotations:<br>        openshift.io/scc: anyuid<br>      creationTimestamp: 2019-09-24T00:44:20Z<br>      labels:                                     &lt;&lt;&lt;--- insert label in this area<br>        run: team01-tools                <br><br>    . . . additional output removed . . .<br><br><br><br><br><br>Insert the following into the labels: section<br><br>    work: training<br><br><br>Example labels: after adding content<br><br>  labels:<br>    run: team01-tools<br>    work: training    <br><br><br>USE MUST SAVE the edited pod for the changes to take affect<br><br><br><br><br>Command:<br><br>    oc describe po team01-tools<br><br>Example output:<br><br>    Name:               team01-tools<br>    Namespace:          default<br>    Priority:           0<br>    PriorityClassName:  &lt;none&gt;<br>    Node:               davew.169.45.224.68.nip.io/169.45.224.68<br>    Start Time:         Mon, 23 Sep 2019 19:44:20 -0500<br>    Labels:             run=team01-tools<br>                        work=training<br>    Annotations:        openshift.io/scc=anyuid<br>    Status:             Running                    <br><br>    . . . additional output removed . . .</code></pre><br><blockquote><br><div><button class="btn btn-success" onclick="markComplete('CS-102 :- MarkComplete 1012 ConfirmButton - edit pod')">Press to mark completed</button></div></blockquote>